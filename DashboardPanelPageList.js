!function(){/* global $ */var a={pageList:".PageListContainerPage, .PageListContainerRoot",editLink:".PageListActionEdit a, .PageListActionNew a",viewLink:".PageListActionView a"};function t(a,t,e){a.on("mouseenter",t,function(a){"blank"===e&&$(a.target).attr("target","_blank"),"modal"===e&&($(a.target).addClass("pw-modal"),$(a.target).addClass("pw-modal-large"),$(a.target).removeClass("pw-modal-longclick"))})}$(document).on("dashboard:panel(page-list)",function(e,i){var n,o,d,s;o=(n=i.$element).find(a.pageList),d=parseInt(n.data("parent"),10),s=n.data("show-root"),// Defer to ProcessWire PageList component
o.ProcessPageList({rootPageID:d,showRootPage:s}),// Register events after (hopefully) pagelist is loaded
setTimeout(function(){var e,i,o;e=n.find(a.pageList),i=n.data("edit-mode"),o=n.data("view-mode"),e.data("has-events")||(// Set link modes for editing and viewing
t(e,a.editLink,i),t(e,a.viewLink,o),// Reload page list when panel is closed
e.on("pw-modal-closed",a.editLink,function(){n.trigger("reload",{animate:!0})}),e.data("has-events",!0))},1e3)})}();